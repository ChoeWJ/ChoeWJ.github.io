---
layout: single
title: "데이터 베이스 정규화"
categories: DB
tag: [DB, weekly_paper]
author_profile: false
sidebar:
  nav: "counts"
# search: false
# redirect_from:
#   - /coding/first-posting
use_math: true
---

# 👑 정규화

정규화는 데이터베이스를 보다 잘 조직화하고 **이상 현상**을 방지하며 정규화를 통해 테이블 구조를 향상시키며, 데이터 입력 및 수정 과정에서 발생할 수 있는 삽입, 갱신, 삭제 이상 현상을 제거할 수 있지만, 정규화를 수행하면 조인의 횟수가 증가하여 조회 성능이 떨어질 수 있다

## 🌟 데이터베이스 정규화의 개념과 효과

- 정규화는 데이터베이스에서 **이상 현상**을 방지하고 데이터를 잘 조직화하기 위한 과정
- 이상 현상에는 삽입 이상, 갱신 이상, 삭제 이상의 세 가지가 있음
- 정규화를 통해 테이블은 더 작은 단위로 분해되어 보다 잘 조직된 데이터베이스 모델링이 가능
- 정규화의 결과로 조인의 횟수가 증가하여 조회 성능이 하락할 수 있지만, 전체 시스템 성능은 불필요한 트랜잭션 감소로 인해 향상

## 🌟 1차 정규화 (1NF)

- 데이터베이스 문제 해결 시, 1차 정규화를 통해 **릴레이션**의 속성값이 모두 원자값으로 구성되도록 하며 속성값이 원자값이 아닐 경우 반드시 수정이 필요함
- 중복값을 제거하고 기본키를 설정하는 것이 필수
- 속성값이 두 개 이상으로 해석될 수 있다면 1차 정규화 대상이 되며, 반복되는 유사한 속성이 있을 경우에도 1차 정규화를 적용
- 1차 정규화를 통해 속성의 원자값을 확보한 후 2차 정규화를 진행

## 🌟 2차 정규화 (2NF)

- 기본키가 두 개 이상의 속성으로 이루어질 때, 일반 속성에 부분 함수 종속성이 생기면 이는 2차 정규화의 대상
- 함수 종속성(Functional Dependency, FD)은 속성 간의 의존성 관점을 통해 설명되며, 결정자가 지정되면 다른 속성이 결정되고, 모든 일반 속성은 기본키에 대해 완전한 함수 종속성을 가져야 하지만, 실 데이터를 다룰 때 그렇지 않은 경우가 발생
- 기본키는 주 식별자로서 테이블에 있는 인스턴스를 찾을 수 있도록 해야 하며, 이는 모든 일반 속성을 결정할 수 있어야 하고 이러한 부분 함수 종속성을 제거하여 속성 간의 완전한 함수 종속성을 보장하는 과정

## 🌟 제 3 정규화(3NF)

- 2차 정규화는 기본 키가 두 개 이상일 때, 일부 속성만 함수 종속성을 갖는 경우의 정규화를 의미
- 제 3 정규화는 속성 간의 함수 종속성을 제거하는 과정
- 이러한 속성 간의 함수 종속성을 **이행 함수 종속성**이라고 하며, 이는 제 3 정규화의 주요 대상

## 🌟 BCNF와 제3 정규화의 관계 이해하기

- BCNF는 보이스 코드라는 사람이 발견했으며, 제3 정규화의 한계를 보완하기 위해 개발된 것이며, 제3 정규화 이후에도 이상 현상이 발생하여 필요하게 된 정규화 단계로, 설계 과정에서 간과된 부분을 보완함

## 🌟 정규화 과정 요약

- **BCNF**는 일반 속성이 기본 키를 결정할 때 수행해야 하는 정규화 과정
- `1차 정규화`는 모든 속성값이 원자 값을 가져야 하며, 유사한 속성이 반복되면 안 된다는 원칙을 따른다.
- `2차 정규화`는 부분 함수 종속성을 제거하는 과정으로, 주 식별자 일부에만 종속성을 가진 속성을 분리한다.
- `3차 정규화`는 일반 속성 간의 함수 종속성을 제거하여, PK에 의해 항상 일반 속성이 결정되도록 설계한다.
- 정규화는 삽입, 삭제, 갱신 이상과 같은 **이상 현상**을 방지하며 데이터베이스의 안정성을 높인다.

## 🌟 정규화의 단점

- 복잡한 조인(Join) 연산 증가
  - 정규화가 진행될수록 테이블이 많아지고, 필요한 데이터를 가져오기 위해 조인이 많아짐.
  - 결과적으로 쿼리 성능 저하 발생 가능.
- 초기 설계가 어려움
  - 처음부터 모든 정규형을 고려하여 테이블을 설계해야 하므로, 경험이 부족하면 비효율적인 구조가 될 수 있음.
- 과도한 정규화는 성능 저하
  - 지나친 정규화는 성능을 저하시킬 수 있으며, 특히 읽기(SELECT) 성능이 중요한 시스템에서는 역정규화(Denormalization)가 필요할 수 있음.

## 🌟 정규화와 역정규화 개념 정리

- **정규화**는 데이터베이스의 **이상 현상**을 방지하고 조직화된 테이블 구조를 만드는데 필수
  - `1차 정규화`는 속성의 원자 값을 확보하며, 유사한 속성과 중복값을 제거
  - `2차 정규화`는 기본 키가 두 개 이상인 경우 부분 함수 종속성을 제거하며, `3차 정규화`는 이행 함수 종속성을 제거
  - `BCNF`는 일반 속성이 기본 키를 결정할 경우에 함수 종속성을 제거한다.
- **역정규화**는 정규화 후 조회 성능이 하락할 경우 적용하며, 읽기 성능을 높이기 위해 일부 테이블을 합쳐 중복을 허용.
