<nav class="nav__list">
  {% for category in site.data.navigation.docs %}
    {% assign category_count = 0 %}
    {% for post in site.posts %}
      {% if post.categories contains category.title %}
        {% assign category_count = category_count | plus: 1 %}
      {% endif %}
    {% endfor %}
    
    <span class="nav__sub-title" data-icon="📂" data-font-size="18px">
      {{ category.title }} <span class="count">{{ category_count }}</span>
    </span> <!-- 메인 카테고리 -->

    <ul class="nav__items">
      {% for item in category.children %}
        {% assign item_count = 0 %}
        {% for post in site.posts %}
          {% if post.categories contains item.title %}
            {% assign item_count = item_count | plus: 1 %}
          {% endif %}
        {% endfor %}

        {% if item.subcategories %}
          <li data-icon="📁" data-font-size="14px"> <!-- 이모지 & 폰트 크기 변경 가능 -->
            <strong>
              {{ item.title }} <span class="count">{{ item_count }}</span>
            </strong>
            <ul>
              {% for subitem in item.subcategories %}
                {% assign subitem_count = 0 %}
                {% for post in site.posts %}
                  {% if post.categories contains subitem.title %}
                    {% assign subitem_count = subitem_count | plus: 1 %}
                  {% endif %}
                {% endfor %}
                <li data-icon="📄" data-font-size="12px">
                  <a href="{{ subitem.url }}">
                    {{ subitem.title }} <span class="count">{{ subitem_count }}</span>
                  </a>
                </li>
              {% endfor %}
            </ul>
          </li>
        {% else %}
          <li data-icon="📌" data-font-size="14px">
            <a href="{{ item.url }}">
              {{ item.title }} <span class="count">{{ item_count }}</span>
            </a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  {% endfor %}
</nav>